**Дата:**

**Статус:**

**Контекст:**
Существует несколько видов токенизации, которые могут быть использованы для авторизации.

**Рассмотренные варианты:**
1. **Токенизация на основе сессий:** При этом подходе сервер создает уникальный идентификатор для каждой сессии пользователя после успешной аутентификации. Этот идентификатор сохраняется и используется для авторизации пользователя в последующих запросах.
2. **Токенизация на основе JWT (JSON Web Token):** JWT - это стандарт, описывающий компактный формат представления информации в виде токена. После успешной аутентификации сервер создает JWT, который содержит определенные данные о пользователе и его разрешениях. Клиентская сторона сохраняет этот токен и использует его для авторизации при каждом запросе.
3. **Токенизация на основе OAuth:** OAuth является открытым протоколом для авторизации, который позволяет пользователям предоставлять третьим лицам ограниченный доступ к своим ресурсам без передачи учетных данных. Он использует токены доступа для авторизации пользователей.
4. **Токенизация на основе токенов обновления:** При этом подходе клиенту выдается пара токенов: токен доступа и токен обновления. Токен доступа имеет ограниченный срок действия и служит для авторизации при каждом запросе, а токен обновления используется для получения нового токена доступа без повторной аутентификации.

**Решение:** Выбрана токенизация на основе JWT.

**Обоснование:**
- Простота реализации: Членам команды не предстоит долго изучать JWT. Возможно некоторые уже знакомы с таким методдом токенизации.
- Верификация источника: JWT содержит информацию о подписи и об источнике токена, что обеспечивает авторизацию и обеспечивает доверие в источник токена.
- Переносимость и масштабируемость: JWT являются самодостаточными, что означает, что все необходимые данные для проверки идентификации и разрешений находятся в самом токене. Это делает его переносимым и позволяет использовать его в различных системах и приложениях.
- Легкая передача данных: JWT являются компактными и легкими, что позволяет передавать их через различные каналы связи, включая заголовки HTTP, параметры URL или в теле запроса.
- Гибкость в установлении разрешений: JWT могут содержать пользовательские данные и разрешения, что позволяет гибко устанавливать доступ к определенным функциям или ресурсам. Это облегчает реализацию гранулярной системы авторизации.
- Упрощение кэширования: Учитывая, что JWT содержат время истечения срока действия, клиент и сервер могут использовать эти данные для кэширования и управления токенами, что улучшает производительность и снижает запросы авторизации.
- Независимость от сервера: JWT являются самодостаточными и не требуют состояния на стороне сервера. Это позволяет легко масштабировать приложение и распределять нагрузку без необходимости хранения сеансов или состояния на сервере.

**Недостатки решения:**
- Размер токена: JWT может иметь большой размер, особенно если содержит большой объем пользовательских данных или разрешений. Это может привести к увеличению расхода трафика при передаче токенов через сеть.
- Ограничение безопасности хранения: JWT используются для передачи информации о пользователе и его разрешениях, поэтому безопасность хранения токенов критически важна. Если злоумышленник получит доступ к токену, он сможет раскрыть информацию о пользователе и использовать его для подмены или подделки запросов.
- Зависимость от времени: JWT содержат информацию о сроке их действия, и клиентской стороне требуется проверка и обновление токенов по истечении их срока. Это может привести к дополнительной нагрузке на клиентскую и серверную сторону.

**Последствия:**
- Для авторизации бедут использована токенизации на основе JWT.